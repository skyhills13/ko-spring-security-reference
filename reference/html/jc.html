<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>3.&nbsp;&#51088;&#48148; &#49444;&#51221;(Java Configuration)</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Spring Security &#47112;&#54140;&#47088;&#49828;"><link rel="up" href="getting-started.html" title="Part&nbsp;II.&nbsp;&#49884;&#51089;&#54616;&#44592;"><link rel="prev" href="new.html" title="2.&nbsp;Spring Security 4.0&#51032; &#49352;&#47196;&#50868; &#51216;"><link rel="next" href="ns-config.html" title="4.&nbsp;Security Namespace Configuration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.&nbsp;&#51088;&#48148; &#49444;&#51221;(Java Configuration)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="new.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;II.&nbsp;&#49884;&#51089;&#54616;&#44592;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ns-config.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="jc" href="#jc"></a>3.&nbsp;&#51088;&#48148; &#49444;&#51221;(Java Configuration)</h2></div></div></div>

<p><a class="ulink" href="http://docs.spring.io/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-java" target="_top">Java Configuration</a>&#50640; &#45824;&#54620; &#51648;&#50896;&#51008; Spring 3.1&#50640;&#49436; &#49828;&#54532;&#47553;&#50640; &#52628;&#44032;&#46104;&#50632;&#45796;. Spring Security 3.2&#48512;&#53552; XML&#51012; &#49324;&#50857;&#54616;&#51648; &#50506;&#44256; &#49789;&#44172; Spring Security &#49444;&#51221;&#51012; &#54624; &#49688; &#51080;&#46020;&#47197; Spring Security Java Configuration&#51060; &#51648;&#50896;&#46096;&#45796;.</p>
<p><a class="xref" href="ns-config.html" title="4.&nbsp;Security Namespace Configuration">Chapter&nbsp;4, <i>Security Namespace Configuration</i></a>&#50640; &#51061;&#49689;&#54616;&#45796;&#47732;, Security Java Configuration &#51648;&#50896;&#44284; &#48708;&#49847;&#54620; &#51216;&#46308;&#51012; &#44900; &#48156;&#44204;&#54624; &#49688; &#51080;&#51012; &#44163;&#51060;&#45796;.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
<p>Spring Security&#45716; <a class="ulink" href="https://github.com/spring-projects/spring-security/tree/master/samples" target="_top">&#47566;&#51008; &#49368;&#54540; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496;</a>&#51012; &#51228;&#44277;&#54616;&#45716;&#45936;, `-jc`&#47196; &#45149;&#45208;&#45716; &#44163;&#51060; Spring Security Java Configuration&#51012; &#49324;&#50857;&#54620; &#50696;&#51228;&#51060;&#45796;.</p>
</td></tr></table></div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="hello-web-security-java-configuration" href="#hello-web-security-java-configuration"></a>3.1&nbsp;Hello Web Security Java Configuration</h2></div></div></div>

<p>&#52395;&#48264;&#51704; &#45800;&#44228;&#45716;, Spring Security Java Configuration&#51012; &#49373;&#49457;&#54616;&#45716; &#44163;&#51060;&#45796;. configuration&#51008; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496; &#45236;&#51032; &#47784;&#46304; security(&#50612;&#54540;&#47532;&#52992;&#51060;&#49496; URL&#51012; &#48372;&#54840;&#54616;&#44256;, &#51077;&#47141;&#46108; username&#44284; &#48708;&#48128;&#48264;&#54840;&#50640; &#45824;&#54620; &#50976;&#54952;&#49457;&#51012; &#52404;&#53356;&#54616;&#44256;, &#47196;&#44536;&#51064;&#54268;&#51004;&#47196; &#47532;&#45796;&#51060;&#47113;&#54021;&#54616;&#45716; &#46321;&#51032;)&#50640; &#45824;&#54620; &#52293;&#51076;&#51012; &#44032;&#51648;&#44256; &#51080;&#45716; `springSecurityFilterChain`&#46972;&#45716; Servlet Filter&#47484; &#49373;&#49457;&#54633;&#45768;&#45796;. &#50500;&#47000;&#45716; Spring Security&#51032; &#44032;&#51109; &#44592;&#48376;&#51060; &#46104;&#45716; &#50696;&#51228;&#51060;&#45796;:</p>
<a name="jc-hello-wsca" href="#jc-hello-wsca"></a><pre class="programlisting"><span class="hl-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;

<span class="hl-keyword">import</span> org.springframework.context.annotation.*;
<span class="hl-keyword">import</span> org.springframework.security.config.annotation.authentication.builders.*;
<span class="hl-keyword">import</span> org.springframework.security.config.annotation.web.configuration.*;

<em><span class="hl-annotation" style="color: gray">@EnableWebSecurity</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> SecurityConfig <span class="hl-keyword">extends</span> WebSecurityConfigurerAdapter {

	<em><span class="hl-annotation" style="color: gray">@Autowired</span></em>
	<span class="hl-keyword">public</span> <span class="hl-keyword">void</span> configureGlobal(AuthenticationManagerBuilder auth) <span class="hl-keyword">throws</span> Exception {
		auth
			.inMemoryAuthentication()
				.withUser(<span class="hl-string">"user"</span>).password(<span class="hl-string">"password"</span>).roles(<span class="hl-string">"USER"</span>);
	}
}</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
<p>configureGlobal method&#51032; &#51060;&#47492;&#51008; &#51473;&#50836;&#54616;&#51648; &#50506;&#45796;. &#54616;&#51648;&#47564; <code class="literal">@EnableWebSecurity</code>, <code class="literal">@EnableGlobalMethodSecurity</code>,`@EnableGlobalAuthentication`&#51473; &#54616;&#45208;&#47196; &#49440;&#50616;(annotated)&#46108; &#53364;&#47000;&#49828; &#45236;&#50640;&#49436; AuthenticationManagerBuilder&#47564;&#51012; &#49444;&#51221;&#54616;&#45716; &#44163;&#51008; &#51473;&#50836;&#54616;&#45796;. &#45796;&#47476;&#44172; &#54616;&#45716;&#44163;&#51008; &#50696;&#52769;&#54624; &#49688; &#50630;&#45716; &#44208;&#44284;&#47484; &#44032;&#51256;&#50728;&#45796;.</p>
</td></tr></table></div>
<p>&#51060; configuration&#50640;&#45716; &#47566;&#51008; &#44163;&#51060; &#51080;&#51648;&#45716; &#50506;&#51648;&#47564;, &#47566;&#51008; &#51068;&#51012; &#54616;&#45716; &#44163;&#51008; &#47582;&#45796;. &#54588;&#52432;&#50640; &#45824;&#54620; &#50836;&#50557;&#51008; &#50500;&#47000;&#50640; &#51080;&#45796;:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
&#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#51032; &#47784;&#46304; URL&#50640;&#49436; &#51064;&#51613;&#51012; &#50836;&#44396;&#54620;&#45796;.
</li><li class="listitem">
&#47196;&#44536;&#51064; &#54268;&#51012; &#49373;&#49457;&#54644;&#51456;&#45796;.
</li><li class="listitem">
<span class="strong"><strong>Username</strong></span> <span class="emphasis"><em>user</em></span> , <span class="strong"><strong>Password</strong></span> _password_&#51064; &#50976;&#51200;&#47196; &#54616;&#50668;&#44552; &#54268; &#48288;&#51060;&#49828; &#51064;&#51613; &#48169;&#49885;&#51004;&#47196; &#51064;&#51613;&#54624; &#49688; &#51080;&#44172; &#54644;&#51456;&#45796;.
</li><li class="listitem">
&#50976;&#51200;&#44032; &#47196;&#44536;&#50500;&#50883; &#54624; &#49688; &#51080;&#46020;&#47197; &#54644;&#51456;&#45796;.
</li><li class="listitem">
<a class="ulink" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_top">CSRF attack</a> &#50696;&#48169;
</li><li class="listitem">
<a class="ulink" href="http://en.wikipedia.org/wiki/Session_fixation" target="_top">Session Fixation</a> &#48372;&#54840;
</li><li class="listitem">
<p class="simpara">Security Header &#53685;&#54633;(integration)</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
&#50504;&#51204;&#54620; &#50836;&#52397;&#51012; &#50948;&#54620; <a class="ulink" href="http://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_top">HTTP Strict Transport Security</a>
</li><li class="listitem">
<a class="ulink" href="http://msdn.microsoft.com/en-us/library/ie/gg622941(v=vs.85).aspx" target="_top">X-Content-Type-Options</a> integration
</li><li class="listitem">
Cache Control (&#54980;&#50640; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496; &#45236;&#51032; &#51221;&#51201; &#47532;&#49548;&#49828;(static resources) &#52880;&#49905;&#51012; &#54728;&#50857;&#54632;&#51004;&#47196;&#50024; &#45934;&#50612;&#50444;&#50892;&#51656; &#49688; &#51080;&#45796;)
</li><li class="listitem">
<a class="ulink" href="http://msdn.microsoft.com/en-us/library/dd565647(v=vs.85).aspx" target="_top">X-XSS-Protection</a> integration
</li><li class="listitem">
&#50696;&#48169;&#51012; &#46037;&#44592; &#50948;&#54620; X-Frame-Options integration <a class="ulink" href="http://en.wikipedia.org/wiki/Clickjacking" target="_top">Clickjacking</a>
</li></ul></div>
</li><li class="listitem">
<p class="simpara">&#50500;&#47000;&#51032; Servlet API &#47700;&#49436;&#46300;&#50752;&#51032; &#53685;&#54633;</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<a class="ulink" href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRemoteUser()" target="_top">HttpServletRequest#getRemoteUser()</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal()" target="_top">HttpServletRequest.html#getUserPrincipal()</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String)" target="_top">HttpServletRequest.html#isUserInRole(java.lang.String)</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#login(java.lang.String,%20java.lang.String)" target="_top">HttpServletRequest.html#login(java.lang.String, java.lang.String)</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#logout()" target="_top">HttpServletRequest.html#logout()</a>
</li></ul></div>
</li></ul></div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="abstractsecuritywebapplicationinitializer" href="#abstractsecuritywebapplicationinitializer"></a>3.1.1&nbsp;AbstractSecurityWebApplicationInitializer</h3></div></div></div>

<p>&#45796;&#51020; &#45800;&#44228;&#45716; war&#50640; <code class="literal">springSecurityFilterChain</code> &#51012; &#46321;&#47197;&#54616;&#45716; &#44163;&#51060;&#45796;. &#51060;&#44163;&#51008; Servlet 3.0+ &#54872;&#44221;&#50640;&#49436; <a class="ulink" href="http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-container-config" target="_top">Spring&#51032; WebApplicationInitializer &#51648;&#50896;</a> &#51004;&#47196; Java Configuration&#50640;&#49436; &#54624; &#49688; &#51080;&#45796;. &#45440;&#46989;&#51648;&#46020; &#50506;&#51648;&#47564;, Spring Security&#45716; <code class="literal">springSecurityFilterChain</code> &#44032; &#46321;&#47197;&#46104;&#45716; &#44163;&#51012; &#48372;&#51109;&#54644;&#51452;&#45716; &#44592;&#48376; &#53364;&#47000;&#49828;(base class) `AbstractSecurityWebApplicationInitializer`&#47484; &#51228;&#44277;&#54620;&#45796;. &#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#51060; &#51060;&#48120; Spring&#51012; &#49324;&#50857;&#54616;&#44256; &#51080;&#45716;&#51648;, &#50500;&#45768;&#47732; Spring Security&#44032; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#50640;&#49436; &#49324;&#50857;&#54616;&#45716; &#50976;&#51068;&#54620; Spring &#52980;&#54252;&#45324;&#53944;&#51064;&#51648;&#50640; &#46384;&#46972; `AbstractSecurityWebApplicationInitializer`&#47484; &#49324;&#50857;&#54616;&#45716; &#48169;&#48277;&#51060; &#45804;&#46972;&#51652;&#45796;.</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="xref" href="jc.html#abstractsecuritywebapplicationinitializer-without-existing-spring" title="3.1.2&nbsp;AbstractSecurityWebApplicationInitializer without Existing Spring">Section&nbsp;3.1.2, &#8220;AbstractSecurityWebApplicationInitializer without Existing Spring&#8221;</a> - &#49828;&#54532;&#47553;&#51012; &#49324;&#50857;&#54616;&#44256; &#51080;&#51648; &#50506;&#45796;&#47732; &#51060; &#47553;&#53356;&#47484; &#51060;&#50857;
</li><li class="listitem">
<a class="xref" href="jc.html#abstractsecuritywebapplicationinitializer-with-spring-mvc" title="3.1.3&nbsp;AbstractSecurityWebApplicationInitializer with Spring MVC">Section&nbsp;3.1.3, &#8220;AbstractSecurityWebApplicationInitializer with Spring MVC&#8221;</a> - &#49828;&#54532;&#47553;&#51012; &#49324;&#50857;&#54616;&#44256; &#51080;&#45796;&#47732; &#51060; &#47553;&#53356;&#47484; &#51060;&#50857;
</li></ul></div>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="abstractsecuritywebapplicationinitializer-without-existing-spring" href="#abstractsecuritywebapplicationinitializer-without-existing-spring"></a>3.1.2&nbsp;AbstractSecurityWebApplicationInitializer without Existing Spring</h3></div></div></div>

<p>Spring &#51060;&#45208; Spring MVC&#47484; &#49324;&#50857;&#54616;&#44256; &#51080;&#51648; &#50506;&#45796;&#47732;, &#51089;&#49457;&#54620; configuration&#51060; &#49440;&#53469;&#46112; &#49688; &#51080;&#46020;&#47197; `SecurityConfig`&#47484; superclass&#50640; &#51204;&#45804;&#54644;&#50556;&#54620;&#45796;. &#50500;&#47000;&#50640;&#49436; &#50696;&#49884;&#47484; &#54869;&#51064;&#54644;&#48380; &#49688; &#51080;&#45796;:</p>
<pre class="programlisting"><span class="hl-keyword">import</span> org.springframework.security.web.context.*;

<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> SecurityWebApplicationInitializer
	<span class="hl-keyword">extends</span> AbstractSecurityWebApplicationInitializer {

	<span class="hl-keyword">public</span> SecurityWebApplicationInitializer() {
		<span class="hl-keyword">super</span>(SecurityConfig.<span class="hl-keyword">class</span>);
	}
}</pre>
<p><code class="literal">SecurityWebApplicationInitializer</code> &#51008; &#45796;&#51020;&#44284; &#44057;&#51008; &#51068;&#51012; &#54620;&#45796;:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
springSecurityFilterChain &#54596;&#53552;&#47484; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496; &#45236;&#51032; &#47784;&#46304; URL&#50640; &#51088;&#46041;&#51004;&#47196; &#46321;&#47197;&#54620;&#45796;.
</li><li class="listitem">
<a class="link" href="jc.html#jc-hello-wsca">SecurityConfig</a>&#47484; &#47196;&#46377;&#54616;&#45716; ContextLoaderListener&#47484; &#52628;&#44032;&#54620;&#45796;.
</li></ul></div>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="abstractsecuritywebapplicationinitializer-with-spring-mvc" href="#abstractsecuritywebapplicationinitializer-with-spring-mvc"></a>3.1.3&nbsp;AbstractSecurityWebApplicationInitializer with Spring MVC</h3></div></div></div>

<p>&#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#51032; &#50612;&#46360;&#44032;&#50640;&#49436; &#51060;&#48120; Spring&#51012; &#49324;&#50857;&#54616;&#44256; &#51080;&#45796;&#47732;, Spring Configuration&#51012; &#47196;&#46377;&#54616;&#45716;  <code class="literal">WebApplicationInitializer</code> &#47484; &#51060;&#48120; &#44032;&#51648;&#44256; &#51080;&#51012; &#44163;&#51060;&#45796;. &#51060;&#47084;&#54620; &#49345;&#54889;&#50640;&#49436; &#50526;&#51032; configuration&#51012; &#49324;&#50857;&#54616;&#47732; &#50640;&#47084;&#44032; &#45216; &#44163;&#51060;&#45796;. &#44536;&#47111;&#44172; &#54616;&#45716; &#45824;&#49888; &#51060;&#48120; &#51316;&#51116;&#54616;&#45716; <code class="literal">ApplicationContext</code> &#47484; &#51060;&#50857;&#54616;&#47732; &#46108;&#45796;. &#50696;&#47484; &#46308;&#50612;, Spring MVC&#47484; &#49324;&#50857;&#54616;&#44256; &#51080;&#45796;&#47732; <code class="literal">SecurityWebApplicationInitializer</code> &#45716; &#50500;&#47000;&#50752; &#44057;&#51060; &#46104;&#50612; &#51080;&#51012; &#44163;&#51060;&#45796;:</p>
<pre class="programlisting"><span class="hl-keyword">import</span> org.springframework.security.web.context.*;

<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> SecurityWebApplicationInitializer
	<span class="hl-keyword">extends</span> AbstractSecurityWebApplicationInitializer {

}</pre>
<p>&#51060;&#45716; springSecurityFilterChain &#54596;&#53552;&#47484; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496; &#45236;&#51032; &#47784;&#46304; URL&#50640; &#45824;&#54644; &#44036;&#45800;&#54616;&#44172; &#46321;&#47197;&#49884;&#53416;&#45796;. &#44536;&#47111;&#44172; &#54616;&#47732; &#50864;&#47532;&#45716; &#51060;&#48120; &#51316;&#51116;&#54616;&#45716; ApplicationInitializer&#50640; <code class="literal">SecurityConfig</code> &#44032; &#47196;&#46300;&#46108; &#44163;&#51012; &#54869;&#49888;&#54624; &#49688; &#51080;&#45796;. &#50696;&#47484; &#46308;&#50612;, Spring MVC&#47484; &#49324;&#50857;&#54616;&#44256; &#51080;&#45796;&#47732;, <code class="literal">getRootConfigClasses()</code> &#50640;&#49436; &#52628;&#44032;&#46112; &#44163;&#51060;&#45796;.</p>
<a name="message-web-application-inititializer-java" href="#message-web-application-inititializer-java"></a><pre class="programlisting"><span class="hl-keyword">public</span> <span class="hl-keyword">class</span> MvcWebApplicationInitializer <span class="hl-keyword">extends</span>
		AbstractAnnotationConfigDispatcherServletInitializer {

	<em><span class="hl-annotation" style="color: gray">@Override</span></em>
	<span class="hl-keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() {
		<span class="hl-keyword">return</span> <span class="hl-keyword">new</span> Class[] { SecurityConfig.<span class="hl-keyword">class</span> };
	}

	<span class="hl-comment">// ... other overrides ...</span>
}</pre>
</div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jc-httpsecurity" href="#jc-httpsecurity"></a>3.2&nbsp;HttpSecurity</h2></div></div></div>

<p>&#51648;&#44552;&#44620;&#51648; &#50864;&#47532;&#51032; <a class="link" href="jc.html#jc-hello-wsca">SecurityConfig</a> &#45716; &#50976;&#51200;&#47484; &#50612;&#46523;&#44172; &#51064;&#51613;&#54624; &#44163;&#51064;&#51648;&#50640; &#45824;&#54620; &#51221;&#48372;&#47564;&#51012; &#54252;&#54632;&#54616;&#44256; &#51080;&#45796;. Spring Security&#45716; &#50864;&#47532;&#44032; &#47784;&#46304; &#50976;&#51200;&#47484; &#51064;&#51613;&#54616;&#47140;&#44256; &#54620;&#45796;&#45716; &#44163;&#51012; &#50612;&#46523;&#44172; &#50500;&#45716; &#44163;&#51068;&#44620;? &#50864;&#47532;&#44032; &#54268; &#48288;&#51060;&#49828; &#51064;&#51613;&#51012; &#51648;&#50896;&#54616;&#44256; &#49910;&#50612;&#54616;&#45716; &#44163;&#51012; Spring Security&#45716; &#50612;&#46523;&#44172; &#50500;&#45716; &#44163;&#51068;&#44620;? &#51060; &#47784;&#46304; &#44163;&#46308;&#51008;, &#50500;&#47000;&#50752; &#44057;&#51060; <code class="literal">WebSecurityConfigurerAdapter</code> &#51060; <code class="literal">configure(HttpSecurity http)</code> &#47700;&#49436;&#46300;&#50640;&#49436; &#46356;&#54260;&#53944; &#49444;&#51221;&#51012; &#51228;&#44277;&#54620; &#45909;&#48516;&#51060;&#45796;:</p>
<pre class="programlisting"><span class="hl-keyword">protected</span> <span class="hl-keyword">void</span> configure(HttpSecurity http) <span class="hl-keyword">throws</span> Exception {
	http
		.authorizeRequests()
			.anyRequest().authenticated()
			.and()
		.formLogin()
			.and()
		.httpBasic();
}</pre>
<p>&#50948;&#50752; &#44057;&#51008; &#46356;&#54260;&#53944; &#49444;&#51221;&#51008;:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
&#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#51004;&#47196; &#46308;&#50612;&#50724;&#45716; &#47784;&#46304; &#50836;&#52397;&#51060; &#50976;&#51200;&#51032; &#51064;&#51613;&#51012; &#54596;&#50836;&#47196; &#54620;&#45796;&#45716; &#44163;&#51012; &#48372;&#51109;&#54616;&#44256;
</li><li class="listitem">
&#50976;&#51200;&#44032; &#54268; &#48288;&#51060;&#49828; &#47196;&#44536;&#51064;&#51004;&#47196; &#51064;&#51613;&#54624; &#49688; &#51080;&#46020;&#47197; &#54728;&#50857;&#54616;&#47728;
</li><li class="listitem">
&#50976;&#51200;&#44032; &#44592;&#48376; &#51064;&#51613; &#48169;&#49885;&#51004;&#47196; &#51064;&#51613; &#54624; &#49688; &#51080;&#46020;&#47197; &#54728;&#50857;&#54620;&#45796;.
</li></ul></div>
<p>&#51060; &#49444;&#51221;&#51060; &#50500;&#47000;&#50752; &#44057;&#51008; XML Namespace &#49444;&#51221; &#48169;&#49885;&#44284; &#50976;&#49324;&#54616;&#45796;&#45716; &#44163;&#51012; &#50508;&#50500;&#52264;&#47160;&#51012; &#44163;&#51060;&#45796;:</p>
<pre class="programlisting"><span class="hl-tag">&lt;http&gt;</span>
	<span class="hl-tag">&lt;intercept-url</span> <span class="hl-attribute">pattern</span>=<span class="hl-value">"/**"</span> <span class="hl-attribute">access</span>=<span class="hl-value">"authenticated"</span><span class="hl-tag">/&gt;</span>
	<span class="hl-tag">&lt;form-login /&gt;</span>
	<span class="hl-tag">&lt;http-basic /&gt;</span>
<span class="hl-tag">&lt;/http&gt;</span></pre>
<p>XML&#51032; &#45803;&#45716; &#53468;&#44536;&#50752; &#46041;&#51068;&#54620; &#50669;&#54624;&#51012; &#54616;&#45716; &#44163;&#51060; Java Configuration&#50640;&#49436; <code class="literal">and()</code> &#47700;&#49436;&#46300;&#51060;&#45796;. &#51060; &#47700;&#49436;&#46300;&#44032; &#48512;&#47784;&#47484; &#44228;&#49549; &#49444;&#51221;&#54624; &#49688; &#51080;&#46020;&#47197; &#54644;&#51456;&#45796;. &#46608;&#54620;, &#53076;&#46300;&#47484; &#51069;&#51012; &#46412;, &#45908; &#51060;&#54644;&#54616;&#44592;&#44032; &#49789;&#45796;. &#45208;&#45716; &#44428;&#54620;&#51060; &#51080;&#45716; &#50836;&#52397;&#51012; &#49444;&#51221;&#54616;&#44256; &#49910;<span class="emphasis"><em>&#44256;</em></span> &#54268; &#47196;&#44536;&#51064; &#49444;&#51221;&#51012; &#54616;&#44256; &#49910;<span class="emphasis"><em>&#44256;</em></span> HTTP Basic &#51064;&#51613; &#48169;&#49885;&#51012; &#49444;&#51221;&#54616;&#44256; &#49910;&#45796; &#52376;&#47100; &#51060;&#54644;&#54624; &#49688; &#51080;&#51004;&#45768; &#47568;&#51060;&#45796;.</p>
<p>&#44536;&#47084;&#45208; Java Configuration&#51008; &#46356;&#54260;&#53944; URL&#44284; &#54028;&#46972;&#48120;&#53552;&#44032; &#45796;&#47476;&#45796;. &#52964;&#49828;&#53568; &#47196;&#44536;&#51064; &#54168;&#51060;&#51648;&#47484; &#47564;&#46308;&#46412;&#45716; &#51060; &#49324;&#49892;&#51012; &#47749;&#49900;&#54616;&#46972;. &#44208;&#47200;&#51201;&#51004;&#47196;, &#50864;&#47532;&#51032; URL&#51008; &#45908; RESTful&#54616;&#45796;. &#52628;&#44032;&#51201;&#51004;&#47196;, <a class="ulink" href="https://www.owasp.org/index.php/Information_Leak_(information_disclosure)" target="_top">information leaks</a>&#51012; &#50696;&#48169;&#54616;&#45716;&#45936; &#46020;&#50880;&#51060; &#46104;&#45716; Spring Security&#47484; &#49324;&#50857;&#54616;&#44256; &#51080;&#45716; &#44032;&#50640; &#45824;&#54644;&#49436;&#45716; &#44536;&#47532; &#47749;&#48177;&#54616;&#51648;&#45716; &#50506;&#45796;. &#50696;&#47484; &#46308;&#50612;:</p>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jc-form" href="#jc-form"></a>3.3&nbsp;Java Configuration &#44284; Form Login</h2></div></div></div>

<p>&#51648;&#44552;&#44620;&#51648; HTML&#51060;&#45208; JSP &#54028;&#51068;&#50640; &#45824;&#54620; &#50616;&#44553;&#51060; &#50630;&#50632;&#44592; &#46412;&#47928;&#50640;, &#47196;&#44536;&#51064;&#51012; &#54644;&#50556;&#54616;&#45716; &#49345;&#54889;&#51060; &#50772;&#51012; &#46412; &#47196;&#44536;&#51064; &#54268;&#51060; &#50612;&#46356;&#49436; &#50728;&#44163;&#51064;&#51648; &#44417;&#44552;&#54624; &#44163;&#51060;&#45796;. Spring Secuirty&#51032; &#46356;&#54260;&#53944; &#49444;&#51221;&#51008; &#47196;&#44536;&#51064; &#54168;&#51060;&#51648;&#47484; &#50948;&#54620; URL&#51012; &#46300;&#47084;&#45208;&#44172; &#49444;&#51221;&#54616;&#51648; &#50506;&#44592; &#46412;&#47928;&#50640;, Spring Security&#44032; &#51088;&#46041;&#51004;&#47196; &#49373;&#49457;&#54620;&#45796;. &#51060; &#46412;, &#47196;&#44536;&#51064;&#51012; &#51652;&#54665;&#54616;&#45716; &#54364;&#51456; URL &#44050;&#51012; &#49324;&#50857;&#54616;&#45716; &#54588;&#52432;&#50752; &#47196;&#44536;&#51064;&#51060; &#46108; &#54980;&#50640; &#50976;&#51200;&#44032; &#46020;&#52265;&#54616;&#45716; &#46356;&#54260;&#53944; &#53440;&#44191; URL&#50640; &#44592;&#48152;&#54644;&#49436; &#49373;&#49457;&#54620;&#45796;.</p>
<p>&#51088;&#46041;&#51004;&#47196; &#49373;&#49457;&#46108; &#47196;&#44536;&#51064; &#54168;&#51060;&#51648;&#45716; &#48736;&#47476;&#44172; &#49892;&#54665;&#54616;&#44592; &#54200;&#47532;&#54616;&#51648;&#47564;, &#45824;&#48512;&#48516;&#51032; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#51008; &#44536;&#46308;&#47564;&#51032; &#47196;&#44536;&#51064; &#54168;&#51060;&#51648;&#47484; &#51228;&#44277;&#54616;&#44256; &#49910;&#50612;&#54624; &#44163;&#51060;&#45796;. &#44536;&#47111;&#44172; &#54616;&#44592; &#50948;&#54644;&#49436;&#45716; &#50500;&#47000;&#50752; &#44057;&#51060; &#49444;&#51221;&#51012; &#48148;&#44984;&#47732; &#46108;&#45796;:</p>
<pre class="programlisting"><span class="hl-keyword">protected</span> <span class="hl-keyword">void</span> configure(HttpSecurity http) <span class="hl-keyword">throws</span> Exception {
	http
		.authorizeRequests()
			.anyRequest().authenticated()
			.and()
		.formLogin()
			.loginPage(<span class="hl-string">"/login"</span>) <a name="CO1-1" href="#CO1-1"></a><span><img src="images/callouts/1.png" alt="1" border="0"></span>
			.permitAll();        <a name="CO1-2" href="#CO1-2"></a><span><img src="images/callouts/2.png" alt="2" border="0"></span>
}</pre>
<div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-1"><span><img src="images/callouts/1.png" alt="1" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50629;&#45936;&#51060;&#53944;&#46108; &#49444;&#51221;&#51008; &#47196;&#44536;&#51064; &#54168;&#51060;&#51648;&#51032; &#44221;&#47196;&#47484; &#44396;&#52404;&#51201;&#51004;&#47196; &#51648;&#51221;&#54620;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-2"><span><img src="images/callouts/2.png" alt="2" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50864;&#47532;&#45716; &#47784;&#46304; &#50976;&#51200;&#46308;&#50640;&#44172;(i.e. &#51064;&#51613;&#48155;&#51648; &#50506;&#51008; &#50976;&#51200;&#46308;) &#47196;&#44536;&#51064; &#54168;&#51060;&#51648; &#51217;&#44540; &#44428;&#54620;&#51012; &#51480;&#50556;&#54620;&#45796;. <code class="literal">formLogin().permitAll()</code> &#47700;&#49436;&#46300;&#45716; &#54268; &#48288;&#51060;&#49828; &#47196;&#44536;&#51064;&#44284; &#44288;&#47144;&#46108; &#47784;&#46304; URL&#50640; &#47784;&#46304; &#50976;&#51200;&#46308;&#51032; &#51217;&#44540; &#44428;&#54620;&#51012; &#51460; &#49688; &#51080;&#46020;&#47197; &#54644;&#51456;&#45796;.</p>
</td></tr></table></div>
<p>&#50864;&#47532;&#51032; &#54788;&#51116; &#49444;&#51221;&#50640; &#47582;&#45716; &#50696;&#49884; JSP &#47196;&#44536;&#51064; &#54168;&#51060;&#51648;&#45716; &#45796;&#51020;&#44284; &#44057;&#51012; &#49688; &#51080;&#45796;:</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
<p>&#50500;&#47000;&#51032; &#47196;&#44536;&#51064; &#54168;&#51060;&#51648;&#45716; &#50864;&#47532;&#51032; &#54788;&#51116; &#49444;&#51221;&#51012; &#45824;&#54364;&#51201;&#51004;&#47196; &#48372;&#50668;&#51456;&#45796;. &#54596;&#50836;&#50640;&#46384;&#46972; &#46356;&#54260;&#53944; &#49444;&#51221;&#51012; &#49789;&#44172; &#48320;&#44221;&#54624; &#49688; &#51080;&#45796;.</p>
</td></tr></table></div>
<pre class="programlisting"><span class="hl-tag">&lt;c:url</span> <span class="hl-attribute">value</span>=<span class="hl-value">"/login"</span> <span class="hl-attribute">var</span>=<span class="hl-value">"loginUrl"</span><span class="hl-tag">/&gt;</span>
&lt;form <span class="hl-attribute">action</span>=<span class="hl-value">"${loginUrl}"</span> <span class="hl-attribute">method</span>=<span class="hl-value">"post"</span>&gt;       <a name="CO2-1" href="#CO2-1"></a><span><img src="images/callouts/1.png" alt="1" border="0"></span>
	<span class="hl-tag">&lt;c:if</span> <span class="hl-attribute">test</span>=<span class="hl-value">"${param.error != null}"</span><span class="hl-tag">&gt;</span>        <a name="CO2-2" href="#CO2-2"></a><span><img src="images/callouts/2.png" alt="2" border="0"></span>
		&lt;p&gt;
			Invalid username and password.
		&lt;/p&gt;
	<span class="hl-tag">&lt;/c:if&gt;</span>
	<span class="hl-tag">&lt;c:if</span> <span class="hl-attribute">test</span>=<span class="hl-value">"${param.logout != null}"</span><span class="hl-tag">&gt;</span>       <a name="CO2-3" href="#CO2-3"></a><span><img src="images/callouts/3.png" alt="3" border="0"></span>
		&lt;p&gt;
			You have been logged out.
		&lt;/p&gt;
	<span class="hl-tag">&lt;/c:if&gt;</span>
	&lt;p&gt;
		&lt;label <span class="hl-attribute">for</span>=<span class="hl-value">"username"</span>&gt;Username&lt;/label&gt;
		&lt;input <span class="hl-attribute">type</span>=<span class="hl-value">"text"</span> <span class="hl-attribute">id</span>=<span class="hl-value">"username"</span> <span class="hl-attribute">name</span>=<span class="hl-value">"username"</span>/&gt;	<a name="CO2-4" href="#CO2-4"></a><span><img src="images/callouts/4.png" alt="4" border="0"></span>
	&lt;/p&gt;
	&lt;p&gt;
		&lt;label <span class="hl-attribute">for</span>=<span class="hl-value">"password"</span>&gt;Password&lt;/label&gt;
		&lt;input <span class="hl-attribute">type</span>=<span class="hl-value">"password"</span> <span class="hl-attribute">id</span>=<span class="hl-value">"password"</span> <span class="hl-attribute">name</span>=<span class="hl-value">"password"</span>/&gt;	<a name="CO2-5" href="#CO2-5"></a><span><img src="images/callouts/5.png" alt="5" border="0"></span>
	&lt;/p&gt;
	&lt;input <span class="hl-attribute">type</span>=<span class="hl-value">"hidden"</span>                        <a name="CO2-6" href="#CO2-6"></a><span><img src="images/callouts/6.png" alt="6" border="0"></span>
		name="${_csrf.parameterName}"
		value="${_csrf.token}"/&gt;
	&lt;button <span class="hl-attribute">type</span>=<span class="hl-value">"submit"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"btn"</span>&gt;Log in&lt;/button&gt;
&lt;/form&gt;</pre>
<div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-1"><span><img src="images/callouts/1.png" alt="1" border="0"></span></a> </p></td><td valign="top" align="left">
<p><code class="literal">/login</code> URL&#47196; POST &#50836;&#52397;&#51012; &#48372;&#45236;&#45716; &#44163;&#51008; &#50976;&#51200; &#51064;&#51613;&#51012; &#49884;&#46020;&#54624; &#44163;&#51060;&#45796;</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-2"><span><img src="images/callouts/2.png" alt="2" border="0"></span></a> </p></td><td valign="top" align="left">
<p><code class="literal">error</code> &#53244;&#47532; &#54028;&#46972;&#48120;&#53552;&#44032; &#51316;&#51116;&#54620;&#45796;&#47732;, &#51064;&#51613;&#51060; &#49884;&#46020;&#46104;&#50632;&#45796;&#44032; &#49892;&#54056;&#54620; &#44163;&#51060;&#45796;</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-3"><span><img src="images/callouts/3.png" alt="3" border="0"></span></a> </p></td><td valign="top" align="left">
<p><code class="literal">logout</code> &#53244;&#47532; &#54028;&#46972;&#48120;&#53552;&#44032; &#51316;&#51116;&#54620;&#45796;&#47732;, &#50976;&#51200;&#44032; &#49457;&#44277;&#51201;&#51004;&#47196; &#47196;&#44536;&#50500;&#50883;&#46108;&#44163;&#51060;&#45796;</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-4"><span><img src="images/callouts/4.png" alt="4" border="0"></span></a> </p></td><td valign="top" align="left">
<p>username&#51008; <span class="emphasis"><em>username</em></span>&#51060;&#46972;&#45716; HTTP &#54028;&#46972;&#48120;&#53552;&#47196; &#54364;&#54788;&#46104;&#50612;&#50556;&#54620;&#45796;</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-5"><span><img src="images/callouts/5.png" alt="5" border="0"></span></a> </p></td><td valign="top" align="left">
<p>password&#45716; <span class="emphasis"><em>password</em></span>&#46972;&#45716; HTTP &#54028;&#46972;&#48120;&#53552;&#47196; &#54364;&#54788;&#46104;&#50612;&#50556;&#54620;&#45796;</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-6"><span><img src="images/callouts/6.png" alt="6" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50864;&#47532;&#45716; CSRF TOKEN&#51012; &#52628;&#44032;&#54644;&#50556;&#54620;&#45796; <a class="xref" href="csrf.html#csrf-include-csrf-token" title="16.4.3&nbsp;Include the CSRF Token">Section&nbsp;16.4.3, &#8220;Include the CSRF Token&#8221;</a> &#45908; &#51088;&#49464;&#55176; &#50508;&#44256; &#49910;&#45796;&#47732; &#47112;&#54140;&#47088;&#49828;&#51032; <a class="xref" href="csrf.html" title="16.&nbsp;Cross Site Request Forgery (CSRF)">Chapter&nbsp;16, <i>Cross Site Request Forgery (CSRF)</i></a> &#49465;&#49496;&#51012; &#51069;&#50612;&#46972;</p>
</td></tr></table></div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="authorize-requests" href="#authorize-requests"></a>3.4&nbsp;Authorize Requests</h2></div></div></div>

<p>&#51648;&#44552;&#44620;&#51648; &#50864;&#47532;&#51032; &#50696;&#51228;&#50640;&#49436;&#45716; &#50976;&#51200;&#44032; &#51064;&#51613;&#47564; &#54616;&#47732; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#45236;&#51032; &#47784;&#46304; URL&#50640; &#51217;&#44540;&#54624; &#49688; &#51080;&#50632;&#45796;. <code class="literal">http.authorizeRequests()</code> &#47700;&#49436;&#46300;&#50640; &#47751; &#44060;&#51032; &#51088;&#49885;&#51012; &#52628;&#44032;&#54632;&#51004;&#47196;&#50024; URL&#50640; &#45824;&#54620; &#52964;&#49828;&#53568; &#50836;&#44396;&#49324;&#54637;&#51012; &#44396;&#52404;&#51201;&#51004;&#47196; &#51648;&#51221;&#54624; &#49688; &#51080;&#45796;:</p>
<pre class="programlisting"><span class="hl-keyword">protected</span> <span class="hl-keyword">void</span> configure(HttpSecurity http) <span class="hl-keyword">throws</span> Exception {
	http
		.authorizeRequests()                                                                <a name="CO3-1" href="#CO3-1"></a><span><img src="images/callouts/1.png" alt="1" border="0"></span>
			.antMatchers(<span class="hl-string">"/resources/**"</span>, <span class="hl-string">"/signup"</span>, <span class="hl-string">"/about"</span>).permitAll()                  <a name="CO3-2" href="#CO3-2"></a><span><img src="images/callouts/2.png" alt="2" border="0"></span>
			.antMatchers(<span class="hl-string">"/admin/**"</span>).hasRole(<span class="hl-string">"ADMIN"</span>)                                      <a name="CO3-3" href="#CO3-3"></a><span><img src="images/callouts/3.png" alt="3" border="0"></span>
			.antMatchers(<span class="hl-string">"/db/**"</span>).access(<span class="hl-string">"hasRole('ADMIN') and hasRole('DBA')"</span>)            <a name="CO3-4" href="#CO3-4"></a><span><img src="images/callouts/4.png" alt="4" border="0"></span>
			.anyRequest().authenticated()                                                   <a name="CO3-5" href="#CO3-5"></a><span><img src="images/callouts/5.png" alt="5" border="0"></span>
			.and()
		<span class="hl-comment">// ...</span>
		.formLogin();
}</pre>
<div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO3-1"><span><img src="images/callouts/1.png" alt="1" border="0"></span></a> </p></td><td valign="top" align="left">
<p><code class="literal">http.authorizeRequests()</code> &#47700;&#49436;&#46300;&#50640; &#50668;&#47084;&#44060;&#51032; &#51088;&#49885;&#46308;&#51060; &#51080;&#45716;&#45936;, &#44033;&#44033;&#51032; matcher&#45716; &#49440;&#50616;&#46108; &#49692;&#49436;&#47196; &#52628;&#44032;&#54620;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO3-2"><span><img src="images/callouts/2.png" alt="2" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#45572;&#44396;&#45208; &#51217;&#44540;&#54624; &#49688; &#51080;&#45716; URL&#50640; &#45824;&#54644; &#47749;&#49884;&#54664;&#45796;. &#53945;&#55176;, URL&#51060; "/resources/" &#47196; &#49884;&#51089;&#54616;&#44144;&#45208;,  "/signup", "/about" &#44284; &#44057;&#45796;&#47732;, &#50612;&#46500; &#50976;&#51200;&#46304; &#50836;&#52397;&#50640; &#51217;&#44540;&#54624; &#49688; &#51080;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO3-3"><span><img src="images/callouts/3.png" alt="3" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50612;&#46500; URL&#51060;&#46304; "/admin/"&#51004;&#47196; &#49884;&#51089;&#46104;&#47732; "ROLE_ADMIN" &#50669;&#54624;&#51012; &#44032;&#51652; &#50976;&#51200;&#50640;&#44172;&#47564; &#51217;&#44540; &#44428;&#54620;&#51060; &#51080;&#45796;. <code class="literal">hasRole</code> &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54632;&#51004;&#47196;&#50024; "ROLE_" &#51217;&#46160;&#49324;&#47484; &#48537;&#51068; &#54596;&#50836; &#50630;&#45796;&#45716; &#44163;&#51012; &#45576;&#52824; &#52312;&#51012; &#44163;&#51060;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO3-4"><span><img src="images/callouts/4.png" alt="4" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50612;&#46500; URL&#51060;&#46304; "/db/" &#47196; &#49884;&#51089;&#46108;&#45796;&#47732; "ROLE_ADMIN" &#44284; "ROLE_DBA" &#46160;&#44032;&#51648; &#50669;&#54624;&#51012; &#47784;&#46160; &#44032;&#51648;&#44256; &#51080;&#50612;&#50556; &#51217;&#44540;&#54624; &#49688; &#51080;&#45796;. "ROLE_" &#51217;&#46160;&#49324;&#45716; <code class="literal">hasRole</code> &#54364;&#54788;&#51012; &#49324;&#50857;&#54664;&#44592;&#46412;&#47928;&#50640; &#54596;&#50836;&#50630;&#45796;&#45716; &#44163;&#51012; &#45576;&#52824;&#52312;&#51012; &#44163;&#51060;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO3-5"><span><img src="images/callouts/5.png" alt="5" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50526;&#50640;&#49436; &#47588;&#52824;&#46104;&#51648; &#50506;&#51008; &#45208;&#47672;&#51648; &#47784;&#46304; URL&#51008; &#50976;&#51200;&#44032; &#51064;&#51613;&#46104;&#44592;&#47564; &#54616;&#47732; &#46108;&#45796;</p>
</td></tr></table></div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jc-logout" href="#jc-logout"></a>3.5&nbsp;&#47196;&#44536;&#50500;&#50883; &#45796;&#47336;&#44592;</h2></div></div></div>

<p>When using the
<code class="literal"><a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html" target="_top">WebSecurityConfigurerAdapter</a></code>,
logout capabilities are automatically applied. The default is that accessing the
URL <code class="literal">/logout</code> will log the user out by:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Invalidating the HTTP Session
</li><li class="listitem">
Cleaning up any RememberMe authentication that was configured
</li><li class="listitem">
Clearing the <code class="literal">SecurityContextHolder</code>
</li><li class="listitem">
Redirect to <code class="literal">/login?success</code>
</li></ul></div>
<p>Similar to configuring login capabilities, however, you also have various options
to further customize your logout requirements:</p>
<pre class="programlisting"><span class="hl-keyword">protected</span> <span class="hl-keyword">void</span> configure(HttpSecurity http) <span class="hl-keyword">throws</span> Exception {
	http
		.logout()                                                                <a name="CO4-1" href="#CO4-1"></a><span><img src="images/callouts/1.png" alt="1" border="0"></span>
			.logoutUrl(<span class="hl-string">"/my/logout"</span>)                                                 <a name="CO4-2" href="#CO4-2"></a><span><img src="images/callouts/2.png" alt="2" border="0"></span>
			.logoutSuccessUrl(<span class="hl-string">"/my/index"</span>)                                           <a name="CO4-3" href="#CO4-3"></a><span><img src="images/callouts/3.png" alt="3" border="0"></span>
			.logoutSuccessHandler(logoutSuccessHandler)                              <a name="CO4-4" href="#CO4-4"></a><span><img src="images/callouts/4.png" alt="4" border="0"></span>
			.invalidateHttpSession(true)                                             <a name="CO4-5" href="#CO4-5"></a><span><img src="images/callouts/5.png" alt="5" border="0"></span>
			.addLogoutHandler(logoutHandler)                                         <a name="CO4-6" href="#CO4-6"></a><span><img src="images/callouts/6.png" alt="6" border="0"></span>
			.deleteCookies(cookieNamesToClear)                                       <a name="CO4-7" href="#CO4-7"></a><span><img src="images/callouts/7.png" alt="7" border="0"></span>
			.and()
		...
}</pre>
<div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-1"><span><img src="images/callouts/1.png" alt="1" border="0"></span></a> </p></td><td valign="top" align="left">
<p>Provides logout support. This is automatically applied when using <code class="literal">WebSecurityConfigurerAdapter</code>.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-2"><span><img src="images/callouts/2.png" alt="2" border="0"></span></a> </p></td><td valign="top" align="left">
<p>The URL that triggers log out to occur (default is <code class="literal">/logout</code>). If CSRF protection is enabled (default), then the request must also be a POST. For for information, please consult the <a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/config/annotation/web/configurers/LogoutConfigurer.html#logoutUrl(java.lang.String)" target="_top">JavaDoc</a>.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-3"><span><img src="images/callouts/3.png" alt="3" border="0"></span></a> </p></td><td valign="top" align="left">
<p>The URL to redirect to after logout has occurred. The default is <code class="literal">/login?logout</code>. For for information, please consult the <a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/config/annotation/web/configurers/LogoutConfigurer.html#logoutSuccessUrl(java.lang.String)" target="_top">JavaDoc</a>.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-4"><span><img src="images/callouts/4.png" alt="4" border="0"></span></a> </p></td><td valign="top" align="left">
<p>Let&#8217;s you specify a custom <code class="literal">LogoutSuccessHandler</code>. If this is specified, <code class="literal">logoutSuccessUrl()</code> is ignored. For for information, please consult the <a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/config/annotation/web/configurers/LogoutConfigurer.html#logoutSuccessHandler(org.springframework.security.web.authentication.logout.LogoutSuccessHandler)" target="_top">JavaDoc</a>.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-5"><span><img src="images/callouts/5.png" alt="5" border="0"></span></a> </p></td><td valign="top" align="left">
<p>Specify whether to invalidate the <code class="literal">HttpSession</code> at the time of logout. This is <span class="strong"><strong>true</strong></span> by default. Configures the <code class="literal">SecurityContextLogoutHandler</code> under the covers.  For for information, please consult the <a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/config/annotation/web/configurers/LogoutConfigurer.html#invalidateHttpSession(boolean)" target="_top">JavaDoc</a>.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-6"><span><img src="images/callouts/6.png" alt="6" border="0"></span></a> </p></td><td valign="top" align="left">
<p>Adds a <code class="literal">LogoutHandler</code>. <code class="literal">SecurityContextLogoutHandler</code> is added as the last <code class="literal">LogoutHandler</code> by default.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-7"><span><img src="images/callouts/7.png" alt="7" border="0"></span></a> </p></td><td valign="top" align="left">
<p>Allows specifying the names of cookies to be removed on logout success. This is a shortcut for adding a <code class="literal">CookieClearingLogoutHandler</code> explicitly.</p>
</td></tr></table></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
<p>Logouts can of course also be configured using the XML Namespace notation. Please see the documentation for the <a class="link" href="appendix-namespace.html#nsa-logout" title="38.1.20&nbsp;<logout&gt;">logout element</a> in the Spring Security XML Namespace section for further details.</p>
</td></tr></table></div>
<p>Generally, in order to customize logout functionality, you can add
<code class="literal"><a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/LogoutHandler.html" target="_top">LogoutHandler</a></code>
and/or
<code class="literal"><a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/LogoutSuccessHandler.html" target="_top">LogoutSuccessHandler</a></code>
implementations. For many common scenarios, these handlers are applied under the
covers when using the fluent API.</p>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="jc-logout-handler" href="#jc-logout-handler"></a>3.5.1&nbsp;LogoutHandler</h3></div></div></div>

<p>Generally, <code class="literal"><a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/LogoutHandler.html" target="_top">LogoutHandler</a></code>
implementations indicate classes that are able to participate in logout handling.
They are expected to be invoked to perform necessary cleanup. As such they should
not throw exceptions. Various implementations are provided:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/rememberme/PersistentTokenBasedRememberMeServices.html" target="_top">PersistentTokenBasedRememberMeServices</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/rememberme/TokenBasedRememberMeServices.html" target="_top">TokenBasedRememberMeServices</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/CookieClearingLogoutHandler.html" target="_top">CookieClearingLogoutHandler</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/csrf/CsrfLogoutHandler.html" target="_top">CsrfLogoutHandler</a>
</li><li class="listitem">
<a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/SecurityContextLogoutHandler.html" target="_top">SecurityContextLogoutHandler</a>
</li></ul></div>
<p>Please see <a class="xref" href="remember-me.html#remember-me-impls" title="15.4&nbsp;Remember-Me Interfaces and Implementations">Section&nbsp;15.4, &#8220;Remember-Me Interfaces and Implementations&#8221;</a> for details.</p>
<p>Instead of providing <code class="literal">LogoutHandler</code> implementations directly, the fluent API
also provides shortcuts that provide the respective <code class="literal">LogoutHandler</code> implementations
under the covers. E.g. <code class="literal">deleteCookies()</code> allows specifying the names of one or
more cookies to be removed on logout success. This is a shortcut compared to adding a
<code class="literal">CookieClearingLogoutHandler</code>.</p>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="jc-logout-success-handler" href="#jc-logout-success-handler"></a>3.5.2&nbsp;LogoutSuccessHandler</h3></div></div></div>

<p>The <code class="literal">LogoutSuccessHandler</code> is called after a successful logout by the <code class="literal">LogoutFilter</code>,
to handle e.g. redirection or forwarding to the appropriate destination. Note that the
interface is almost the same as the <code class="literal">LogoutHandler</code> but may raise an exception.</p>
<p>The following implementations are provided:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="ulink" href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/SimpleUrlLogoutSuccessHandler.html" target="_top">SimpleUrlLogoutSuccessHandler</a>
</li><li class="listitem">
HttpStatusReturningLogoutSuccessHandler
</li></ul></div>
<p>As mentioned above, you don&#8217;t need to specify the <code class="literal">SimpleUrlLogoutSuccessHandler</code> directly.
Instead, the fluent API provides a shortcut by setting the <code class="literal">logoutSuccessUrl()</code>.
This will setup the <code class="literal">SimpleUrlLogoutSuccessHandler</code> under the covers. The provided URL will
be redirected to after a logout has occurred. The default is <code class="literal">/login?logout</code>.</p>
<p>The <code class="literal">HttpStatusReturningLogoutSuccessHandler</code> can be interesting in REST API type
scenarios. Instead of redirecting to a URL upon the successful logout, this <code class="literal">LogoutSuccessHandler</code>
allows you to provide a plain HTTP status code to be returned. If not configured
a status code 200 will be returned by default.</p>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="jc-logout-references" href="#jc-logout-references"></a>3.5.3&nbsp;&#47196;&#44536;&#50500;&#50883;&#44284; &#44288;&#47144;&#46108; &#47112;&#54140;&#47088;&#49828;</h3></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="link" href="ns-config.html#ns-logout" title="4.2.4&nbsp;Logout Handling">Logout Handling</a>
</li><li class="listitem">
<a class="link" href="test-mockmvc.html#test-logout" title="10.3.2&nbsp;Testing Logout">Testing Logout</a>
</li><li class="listitem">
<a class="link" href="servletapi.html#servletapi-logout" title="13.2.3&nbsp;HttpServletRequest.logout()">HttpServletRequest.logout()</a>
</li><li class="listitem">
<a class="xref" href="remember-me.html#remember-me-impls" title="15.4&nbsp;Remember-Me Interfaces and Implementations">Section&nbsp;15.4, &#8220;Remember-Me Interfaces and Implementations&#8221;</a>
</li><li class="listitem">
<a class="link" href="csrf.html#csrf-logout" title="16.5.3&nbsp;Logging Out">Logging Out</a> in section CSRF Caveats
</li><li class="listitem">
Section <a class="link" href="cas.html#cas-singlelogout" title="29.3.2&nbsp;Single Logout">Single Logout</a> (CAS protocol)
</li><li class="listitem">
Documentation for the <a class="link" href="appendix-namespace.html#nsa-logout" title="38.1.20&nbsp;<logout&gt;">logout element</a> in the Spring Security XML Namespace section
</li></ul></div>
</div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jc-authentication" href="#jc-authentication"></a>3.6&nbsp;Authentication</h2></div></div></div>

<p>&#50864;&#47532;&#45716; &#51648;&#44552;&#44620;&#51648; &#44032;&#51109; &#44592;&#48376;&#51201;&#51064; &#51064;&#51613; configuration&#47564; &#49332;&#54196;&#48420;&#45796;. &#51648;&#44552;&#48512;&#53552;&#45716; &#51064;&#51613; &#49444;&#51221;&#50640; &#45824;&#54620; &#51312;&#44552; &#45908; &#49900;&#54868;&#46108; &#50741;&#49496;&#46308;&#51012; &#49332;&#54196;&#48372;&#51088;.</p>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="jc-authentication-inmememory" href="#jc-authentication-inmememory"></a>3.6.1&nbsp;In Memory Authentication</h3></div></div></div>

<p>&#50864;&#47532;&#45716; &#51060;&#48120; &#54620;&#47749;&#51032; &#50976;&#51200;&#50640; &#45824;&#54620; in memory &#51064;&#51613; &#49444;&#51221; &#50696;&#49884;&#47484; &#48420;&#45796;. &#50500;&#47000;&#45716; &#50668;&#47084;&#47749;&#51032; &#50976;&#51200;&#50640; &#45824;&#54620; &#49444;&#51221;&#51060;&#45796;:</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@Autowired</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">void</span> configureGlobal(AuthenticationManagerBuilder auth) <span class="hl-keyword">throws</span> Exception {
	auth
		.inMemoryAuthentication()
			.withUser(<span class="hl-string">"user"</span>).password(<span class="hl-string">"password"</span>).roles(<span class="hl-string">"USER"</span>).and()
			.withUser(<span class="hl-string">"admin"</span>).password(<span class="hl-string">"password"</span>).roles(<span class="hl-string">"USER"</span>, <span class="hl-string">"ADMIN"</span>);
}</pre>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="jc-authentication-jdbc" href="#jc-authentication-jdbc"></a>3.6.2&nbsp;JDBC Authentication</h3></div></div></div>

<p>JDBC &#44592;&#48152;&#51032; &#51064;&#51613;&#51012; &#51648;&#50896;&#54616;&#44592; &#50948;&#54620; &#50629;&#45936;&#51060;&#53944;&#46020; &#51080;&#45796;. &#50500;&#47000;&#51032; &#50696;&#49884;&#45716; &#51060;&#48120; &#45817;&#49888;&#51060; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496;&#50640; `DataSource`&#47484; &#51221;&#51032;&#54664;&#45796;&#44256; &#44032;&#51221;&#54616;&#44256; &#51080;&#45796;. <a class="ulink" href="https://github.com/spring-projects/spring-security/tree/master/samples/jdbc-jc" target="_top">jdbc-jc sample</a> &#50640;&#49436; JDBC &#44592;&#48152;&#51032; &#51064;&#51613;&#51012; &#49324;&#50857;&#54620; &#50756;&#51204;&#54620; &#50696;&#49884;&#47484; &#51228;&#44277;&#54620;&#45796;.</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@Autowired</span></em>
<span class="hl-keyword">private</span> DataSource dataSource;

<em><span class="hl-annotation" style="color: gray">@Autowired</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">void</span> configureGlobal(AuthenticationManagerBuilder auth) <span class="hl-keyword">throws</span> Exception {
	auth
		.jdbcAuthentication()
			.dataSource(dataSource)
			.withDefaultSchema()
			.withUser(<span class="hl-string">"user"</span>).password(<span class="hl-string">"password"</span>).roles(<span class="hl-string">"USER"</span>).and()
			.withUser(<span class="hl-string">"admin"</span>).password(<span class="hl-string">"password"</span>).roles(<span class="hl-string">"USER"</span>, <span class="hl-string">"ADMIN"</span>);
}</pre>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ldap-authentication" href="#ldap-authentication"></a>3.6.3&nbsp;LDAP Authentication</h3></div></div></div>

<p>LDAP &#44592;&#48152;&#51032; &#51064;&#51613;&#51012; &#51648;&#50896;&#54616;&#45716; &#50629;&#45936;&#51060;&#53944;&#46020; &#51080;&#45796;. <a class="ulink" href="https://github.com/spring-projects/spring-security/tree/master/samples/ldap-jc" target="_top">ldap-jc sample</a> &#50640;&#49436; LDAP &#44592;&#48152;&#51032; &#51064;&#51613;&#51012; &#49324;&#50857;&#54620; &#50756;&#51204;&#54620; &#50696;&#49884;&#47484; &#48380; &#49688; &#51080;&#45796;.</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@Autowired</span></em>
<span class="hl-keyword">private</span> DataSource dataSource;

<em><span class="hl-annotation" style="color: gray">@Autowired</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">void</span> configureGlobal(AuthenticationManagerBuilder auth) <span class="hl-keyword">throws</span> Exception {
	auth
		.ldapAuthentication()
			.userDnPatterns(<span class="hl-string">"uid={0},ou=people"</span>)
			.groupSearchBase(<span class="hl-string">"ou=groups"</span>);
}</pre>
<p>&#50948;&#51032; &#50696;&#49884;&#45716; &#50500;&#47000;&#51032; LDIF&#50752; &#51076;&#48288;&#46356;&#46300; Apache DS LDAP &#51064;&#49828;&#53556;&#49828;&#47484; &#49324;&#50857;&#54664;&#45796;.</p>
<p>
<b>users.ldif.&nbsp;</b>

</p><pre class="screen">dn: ou=groups,dc=springframework,dc=org
objectclass: top
objectclass: organizationalUnit
ou: groups

dn: ou=people,dc=springframework,dc=org
objectclass: top
objectclass: organizationalUnit
ou: people

dn: uid=admin,ou=people,dc=springframework,dc=org
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
cn: Rod Johnson
sn: Johnson
uid: admin
userPassword: password

dn: uid=user,ou=people,dc=springframework,dc=org
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
cn: Dianne Emu
sn: Emu
uid: user
userPassword: password

dn: cn=user,ou=groups,dc=springframework,dc=org
objectclass: top
objectclass: groupOfNames
cn: user
uniqueMember: uid=admin,ou=people,dc=springframework,dc=org
uniqueMember: uid=user,ou=people,dc=springframework,dc=org

dn: cn=admin,ou=groups,dc=springframework,dc=org
objectclass: top
objectclass: groupOfNames
cn: admin
uniqueMember: uid=admin,ou=people,dc=springframework,dc=org</pre><p>

</p>
</div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="multiple-httpsecurity" href="#multiple-httpsecurity"></a>3.7&nbsp;Multiple HttpSecurity</h2></div></div></div>

<p>&#50668;&#47084;&#44060;&#51032; <code class="literal">&lt;http&gt;</code> &#48660;&#47197;&#51012; &#44032;&#51656; &#49688; &#51080;&#45716; &#44163;&#52376;&#47100; &#50668;&#47084;&#44060;&#51032; HttpSecurity &#51064;&#49828;&#53556;&#49828; &#49444;&#51221;&#51012; &#54624; &#49688;&#46020; &#51080;&#45796;. &#54645;&#49900;&#51008; <code class="literal">WebSecurityConfigurationAdapter</code> &#47484; &#50668;&#47084;&#48264; &#49345;&#49549;&#48155;&#45716; &#44163;&#51060;&#45796;. &#50500;&#47000;&#51032; &#50696;&#49884;&#45716;  <code class="literal">/api/</code> &#47196; &#49884;&#51089;&#54616;&#45716; URL&#50640; &#45824;&#54644;&#49436;&#45716; &#45796;&#47480; &#49444;&#51221;&#51012; &#51201;&#50857;&#54620; &#44163;&#51060;&#45796;.</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@EnableWebSecurity</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> MultiHttpSecurityConfig {
	<em><span class="hl-annotation" style="color: gray">@Autowired</span></em>
	<span class="hl-keyword">public</span> <span class="hl-keyword">void</span> configureGlobal(AuthenticationManagerBuilder auth) { <a name="CO5-1" href="#CO5-1"></a><span><img src="images/callouts/1.png" alt="1" border="0"></span>
		auth
			.inMemoryAuthentication()
				.withUser(<span class="hl-string">"user"</span>).password(<span class="hl-string">"password"</span>).roles(<span class="hl-string">"USER"</span>).and()
				.withUser(<span class="hl-string">"admin"</span>).password(<span class="hl-string">"password"</span>).roles(<span class="hl-string">"USER"</span>, <span class="hl-string">"ADMIN"</span>);
	}

	<em><span class="hl-annotation" style="color: gray">@Configuration</span></em>
	<em><span class="hl-annotation" style="color: gray">@Order(1)</span></em>                                                        <a name="CO5-2" href="#CO5-2"></a><span><img src="images/callouts/2.png" alt="2" border="0"></span>
	<span class="hl-keyword">public</span> <span class="hl-keyword">static</span> <span class="hl-keyword">class</span> ApiWebSecurityConfigurationAdapter <span class="hl-keyword">extends</span> WebSecurityConfigurerAdapter {
		<span class="hl-keyword">protected</span> <span class="hl-keyword">void</span> configure(HttpSecurity http) <span class="hl-keyword">throws</span> Exception {
			http
				.antMatcher(<span class="hl-string">"/api/**"</span>)                               <a name="CO5-3" href="#CO5-3"></a><span><img src="images/callouts/3.png" alt="3" border="0"></span>
				.authorizeRequests()
					.anyRequest().hasRole(<span class="hl-string">"ADMIN"</span>)
					.and()
				.httpBasic();
		}
	}

	<em><span class="hl-annotation" style="color: gray">@Configuration</span></em>                                                   <a name="CO5-4" href="#CO5-4"></a><span><img src="images/callouts/4.png" alt="4" border="0"></span>
	<span class="hl-keyword">public</span> <span class="hl-keyword">static</span> <span class="hl-keyword">class</span> FormLoginWebSecurityConfigurerAdapter <span class="hl-keyword">extends</span> WebSecurityConfigurerAdapter {

		<em><span class="hl-annotation" style="color: gray">@Override</span></em>
		<span class="hl-keyword">protected</span> <span class="hl-keyword">void</span> configure(HttpSecurity http) <span class="hl-keyword">throws</span> Exception {
			http
				.authorizeRequests()
					.anyRequest().authenticated()
					.and()
				.formLogin();
		}
	}
}</pre>
<div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-1"><span><img src="images/callouts/1.png" alt="1" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50948;&#50640;&#49436; &#54664;&#45912; &#44163;&#44284; &#44057;&#51060; &#51064;&#51613; &#49444;&#51221;&#51012; &#54620;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-2"><span><img src="images/callouts/2.png" alt="2" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#50612;&#45712; <code class="literal">WebSecurityConfigurerAdapter</code> &#44032; &#51228;&#51068; &#47676;&#51200; &#44256;&#47140; &#45824;&#49345;&#51060; &#46104;&#50612;&#50556; &#54616;&#45716;&#51648;&#47484; &#50508;&#47140;&#51452;&#45716;  <code class="literal">@Order`&#47484; &#54252;&#54632;&#54620; `WebSecurityConfigurerAdapter</code> &#51064;&#49828;&#53556;&#49828;&#47484; &#49373;&#49457;&#54620;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-3"><span><img src="images/callouts/3.png" alt="3" border="0"></span></a> </p></td><td valign="top" align="left">
<p><code class="literal">http.antMatcher</code> &#45716; &#51060; <code class="literal">HttpSecurity</code> &#44032; <code class="literal">/api/</code> &#47196; &#49884;&#51089;&#46104;&#45716; URL&#50640;&#47564; &#51201;&#50857;&#46120;&#51012; &#47749;&#49884;&#54620;&#45796;.</p>
</td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-4"><span><img src="images/callouts/4.png" alt="4" border="0"></span></a> </p></td><td valign="top" align="left">
<p>&#46608; &#45796;&#47480; <code class="literal">WebSecurityConfigurerAdapter</code> &#51064;&#49828;&#53556;&#49828;&#47484; &#49373;&#49457;&#54620;&#45796;. URL&#51060; <code class="literal">/api/</code> &#47196; &#49884;&#51089;&#54616;&#51648; &#50506;&#45716;&#45796;&#47732; &#51060; configuration&#51060; &#49324;&#50857;&#46108;&#45796;. &#51060; configuration&#51008; <code class="literal">@Order</code> &#44050;&#51060; <code class="literal">1</code> &#48372;&#45796; &#53356;&#44592; &#46412;&#47928;&#50640;  <code class="literal">ApiWebSecurityConfigurationAdapter</code> &#51060;&#54980;&#50640; &#44256;&#47140;&#46108;&#45796;.( <code class="literal">@Order</code> &#44032; &#50630;&#51004;&#47732; &#46356;&#54260;&#53944;&#47196; &#51228;&#51068; &#47560;&#51648;&#47561;&#51012; &#51032;&#48120;&#54620;&#45796;).</p>
</td></tr></table></div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jc-method" href="#jc-method"></a>3.8&nbsp;Method Security</h2></div></div></div>

<p>&#48260;&#51204; 2.0 &#51060;&#54980;&#48512;&#53552; Spring Security&#45716; &#45817;&#49888;&#51032; service layer &#47700;&#49436;&#46300;&#50640; &#48372;&#50504;&#51012; &#52628;&#44032;&#54616;&#44592; &#50948;&#54644;&#49436; &#47566;&#51008; &#48156;&#51204;&#51012; &#54644;&#50772;&#45796;. &#54532;&#47112;&#51076;&#50892;&#53356;&#51032; &#50724;&#47532;&#51648;&#45328; @Secured &#50612;&#45432;&#53580;&#51060;&#49496;&#44284; &#45908;&#48520;&#50612; JSR-250 &#50612;&#45432;&#53580;&#51060;&#49496; &#48372;&#50504;&#51012; &#50948;&#54620; &#51648;&#50896;&#46020; &#51228;&#44277;&#54620;&#45796;. 3.0&#48512;&#53552;&#45716; &#49352;&#47196;&#50868; <a class="link" href="el-access.html" title="23.&nbsp;Expression-Based Access Control">expression-based annotations</a>&#46020; &#51060;&#50857;&#54624; &#49688; &#51080;&#45796;. &#48712; &#49440;&#50616;&#51012; &#44048;&#49912;&#44592; &#50948;&#54620; intercept &#47700;&#49436;&#46300; &#50648;&#47532;&#47676;&#53944;&#47484; &#51060;&#50857;&#54632;&#51004;&#47196;&#50024; &#54616;&#45208;&#51032; &#48712;(single bean)&#50640; &#48372;&#50504;&#51012; &#51201;&#50857;&#54624; &#49688;&#46020; &#51080;&#44256;, AspectJ &#49828;&#53440;&#51068; &#54252;&#51064;&#53944;&#52983;(pointcuts)&#51012; &#51060;&#50857;&#54644;&#49436; &#49436;&#48708;&#49828; &#47112;&#51060;&#50612; &#51204;&#52404;&#50640; &#51080;&#45716; &#50668;&#47084;&#44060;&#51032; &#48712;&#51012; &#50504;&#51204;&#54616;&#44172; &#54624; &#49688;&#46020; &#51080;&#45796;.</p>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="enableglobalmethodsecurity" href="#enableglobalmethodsecurity"></a>3.8.1&nbsp;EnableGlobalMethodSecurity</h3></div></div></div>

<p>&#50612;&#46500; <code class="literal">@Configuration</code> &#51064;&#49828;&#53556;&#49828;&#45912;&#51648; <code class="literal">@EnableGlobalMethodSecurity</code> &#50612;&#45432;&#53580;&#51060;&#49496;&#51012; &#51060;&#50857;&#54644;&#49436; &#50612;&#45432;&#53580;&#51060;&#49496; &#44592;&#48152;&#51032; &#48372;&#50504;&#51012; &#54876;&#49457;&#54868;&#49884;&#53420; &#49688; &#51080;&#45796;. &#50696;&#47484; &#46308;&#50612; &#50500;&#47000;&#51032; &#53076;&#46300;&#45716; Spring Security&#51032; <code class="literal">@Secured</code> &#50612;&#45432;&#53580;&#51060;&#49496;&#51012; &#54876;&#49457;&#54868;&#54616;&#45716; &#44163;&#51060;&#45796;.</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@EnableGlobalMethodSecurity(securedEnabled = true)</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> MethodSecurityConfig {
<span class="hl-comment">// ...</span>
}</pre>
<p>&#54616;&#45208;&#51032; &#47700;&#49436;&#46300;(&#54616;&#45208;&#51032; &#53364;&#47000;&#49828;&#45208; &#51064;&#53552;&#54168;&#51060;&#49828;&#50640; &#51080;&#45716;)&#50640; &#50612;&#45432;&#53580;&#51060;&#49496;&#51012; &#52628;&#44032;&#54616;&#45716; &#44163;&#51008; &#51088;&#50672;&#51201;&#51004;&#47196; &#54644;&#45817; &#47700;&#49436;&#46300;&#50640; &#45824;&#54620; &#51217;&#44540;&#51012; &#51228;&#54620;&#54620;&#45796;. Spring Security&#51032; &#45348;&#51060;&#54000;&#48652; &#50612;&#45432;&#53580;&#51060;&#49496; &#51648;&#50896;(support)&#51008; &#54644;&#45817; &#47700;&#49436;&#46300;&#50640; &#45824;&#54620; &#47751;&#44032;&#51648; &#53945;&#49457;&#46308;&#51012; &#51221;&#51032;&#54620;&#45796;. &#51060; &#53945;&#49457;&#46308;&#51008; AccessDecisionManager&#44032; &#49892;&#51656;&#51201;&#51064; &#44208;&#51221;&#51012; &#54624; &#49688; &#51080;&#46020;&#47197; AccessDecisionManager&#50640; &#51204;&#45804;&#46108;&#45796;:</p>
<pre class="programlisting"><span class="hl-keyword">public</span> <span class="hl-keyword">interface</span> BankService {

<em><span class="hl-annotation" style="color: gray">@Secured("IS_AUTHENTICATED_ANONYMOUSLY")</span></em>
<span class="hl-keyword">public</span> Account readAccount(Long id);

<em><span class="hl-annotation" style="color: gray">@Secured("IS_AUTHENTICATED_ANONYMOUSLY")</span></em>
<span class="hl-keyword">public</span> Account[] findAccounts();

<em><span class="hl-annotation" style="color: gray">@Secured("ROLE_TELLER")</span></em>
<span class="hl-keyword">public</span> Account post(Account account, <span class="hl-keyword">double</span> amount);
}</pre>
<p>JSR-250 &#50612;&#45432;&#53580;&#51060;&#49496; &#51648;&#50896;&#51008; &#50500;&#47000;&#51032; &#53076;&#46300;&#47196; &#54876;&#49457;&#54868; &#46108;&#45796;.</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@EnableGlobalMethodSecurity(jsr250Enabled = true)</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> MethodSecurityConfig {
<span class="hl-comment">// ...</span>
}</pre>
<p>&#51060;&#44163;&#46308;&#51008; &#54364;&#51456;&#50640; &#44592;&#48152;&#54620; &#49444;&#51221;&#51060;&#44256;, &#44036;&#45800;&#54620; &#50669;&#54624; &#48288;&#51060;&#49828;(role-based)&#51032; &#51228;&#54620;&#51012; &#51201;&#50857;&#54624; &#49688; &#51080;&#44172; &#54644;&#51456;&#45796;. &#44536;&#47084;&#45208; Spring Security&#51032; &#45348;&#51060;&#54000;&#48652; &#50612;&#45432;&#53580;&#51060;&#49496;&#47564;&#53372; &#44053;&#47141;&#54616;&#51648;&#45716; &#50506;&#45796;. &#49352;&#47196;&#50868; &#54364;&#54788; &#44592;&#48152;(expression-based) &#47928;&#48277;&#51012; &#49324;&#50857;&#54616;&#47140;&#47732;, &#50500;&#47000;&#50752; &#44057;&#51008; &#53076;&#46300;&#47484; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;.</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@EnableGlobalMethodSecurity(prePostEnabled = true)</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> MethodSecurityConfig {
<span class="hl-comment">// ...</span>
}</pre>
<p>&#44536;&#47532;&#44256; &#51060;&#50640; &#54644;&#45817;&#54616;&#45716; &#51088;&#48148;&#53076;&#46300;&#45716; &#45796;&#51020;&#44284; &#44057;&#45796;.</p>
<pre class="programlisting"><span class="hl-keyword">public</span> <span class="hl-keyword">interface</span> BankService {

<em><span class="hl-annotation" style="color: gray">@PreAuthorize("isAnonymous()")</span></em>
<span class="hl-keyword">public</span> Account readAccount(Long id);

<em><span class="hl-annotation" style="color: gray">@PreAuthorize("isAnonymous()")</span></em>
<span class="hl-keyword">public</span> Account[] findAccounts();

<em><span class="hl-annotation" style="color: gray">@PreAuthorize("hasAuthority('ROLE_TELLER')")</span></em>
<span class="hl-keyword">public</span> Account post(Account account, <span class="hl-keyword">double</span> amount);
}</pre>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="globalmethodsecurityconfiguration" href="#globalmethodsecurityconfiguration"></a>3.8.2&nbsp;GlobalMethodSecurityConfiguration</h3></div></div></div>

<p>&#46412;&#47196;&#45716; <code class="literal">@EnableGlobalMethodSecurity</code> &#50612;&#45432;&#53580;&#51060;&#49496;&#51060; &#54728;&#50857;&#54616;&#45716; &#44163;&#48372;&#45796; &#45908; &#48373;&#51105;&#54620; &#51089;&#50629;&#51012; &#54644;&#50556;&#54624; &#46412;&#44032; &#51080;&#51012; &#44163;&#51060;&#45796;. &#51060;&#47084;&#54620; &#51064;&#49828;&#53556;&#49828;&#46308;&#51012; &#50948;&#54644;&#49436;, <code class="literal">@EnableGlobalMethodSecurity</code> &#50612;&#45432;&#53580;&#51060;&#49496;&#51012; &#49436;&#48652;&#53364;&#47000;&#49828;&#50640; &#48152;&#46300;&#49884; &#54252;&#54632;&#54616;&#44256; `GlobalMethodSecurityConfiguration`&#51012; &#49345;&#49549;&#48155;&#51012; &#49688; &#51080;&#45796;. &#50696;&#47484; &#46308;&#50612;, &#52964;&#49828;&#53568; `MethodSecurityExpressionHander`&#47484; &#51228;&#44277;&#54616;&#44256; &#49910;&#45796;&#47732;, &#45796;&#51020;&#44284; &#44057;&#51008; configuration&#51012; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@EnableGlobalMethodSecurity(prePostEnabled = true)</span></em>
<span class="hl-keyword">public</span> <span class="hl-keyword">class</span> MethodSecurityConfig <span class="hl-keyword">extends</span> GlobalMethodSecurityConfiguration {
	<em><span class="hl-annotation" style="color: gray">@Override</span></em>
	<span class="hl-keyword">protected</span> MethodSecurityExpressionHandler createExpressionHandler() {
		<span class="hl-comment">// ... create and return custom MethodSecurityExpressionHandler ...</span>
		<span class="hl-keyword">return</span> expressionHander;
	}
}</pre>
<p>&#50724;&#48260;&#46972;&#51060;&#46300; &#46112; &#49688; &#51080;&#45716; &#47700;&#49436;&#46300;&#50640; &#45824;&#54620; &#52628;&#44032;&#51201;&#51064; &#51221;&#48372;&#45716; <code class="literal">GlobalMethodSecurityConfiguration</code> &#51088;&#48148;&#46021;(Javadoc)&#51012; &#52280;&#44256;&#54644;&#46972;.</p>
</div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="post-processing-configured-objects" href="#post-processing-configured-objects"></a>3.9&nbsp;Post Processing Configured Objects</h2></div></div></div>

<p>Spring Security&#51032; Java Configuration&#51008; Java Configuration&#50640;&#49436; &#49444;&#51221;&#54616;&#45716; &#47784;&#46304; &#50724;&#48652;&#51229;&#53944;&#51032; &#47784;&#46304; &#54532;&#47196;&#54140;&#54000;&#47484; &#48372;&#50668;&#51452;&#51648; &#50506;&#45716;&#45796;. &#45824;&#45796;&#49688;&#51032; &#50976;&#51200;&#47484; &#50948;&#54644; configuration&#51012; &#45800;&#49692;&#54868;&#54644;&#49436; &#48372;&#50668;&#51456;&#45796;. &#47564;&#50557; &#47784;&#46304; &#54532;&#47196;&#54140;&#54000;&#44032; &#48372;&#50668;&#51652;&#45796;&#47732;, &#50976;&#51200;&#45716; &#54364;&#51456; &#48712; &#49444;&#51221;(standard bean configuration)&#51012; &#49324;&#50857;&#54624; &#49688; &#51080;&#51012; &#44163;&#51060;&#45796;.</p>
<p>&#47784;&#46304; &#54532;&#47196;&#54140;&#54000;&#47484; &#51649;&#51217;&#51201;&#51004;&#47196; &#45432;&#52636;&#54616;&#51648; &#50506;&#45716; &#54633;&#47532;&#51201;&#51064; &#51060;&#50976;&#46308;&#51060; &#51080;&#51648;&#47564;, &#50976;&#51200;&#46308;&#51008; &#51312;&#44552; &#45908; &#45208;&#50500;&#44036; configuration option&#51012; &#54596;&#50836;&#47196; &#54616;&#44592;&#46020; &#54620;&#45796;. &#51060;&#50640; &#45824;&#54644; &#49444;&#47749;&#54616;&#44592; &#50948;&#54644;, Spring Security&#45716; Java Configuration&#50640;&#49436; &#49373;&#49457;&#46108; &#47566;&#51008; &#50724;&#48652;&#51229;&#53944; &#51064;&#49828;&#53556;&#49828;&#46308;&#51012; &#49688;&#51221;&#54616;&#44256; &#45824;&#52404;&#54624; &#46412; &#50416;&#51060;&#45716; <code class="literal">ObjectPostProcessor`&#51032; &#44060;&#45392;&#51012; &#49548;&#44060;&#54616;&#44192;&#45796;. &#50696;&#47484; &#46308;&#50612;, `FilterSecurityInterceptor`&#50640; &#51080;&#45716; `filterSecurityPublishAuthorizationSuccess</code> &#54532;&#47196;&#54140;&#54000;&#47484; &#49444;&#51221;&#54616;&#44256; &#49910;&#45796;&#47732;, &#45796;&#51020;&#51032; &#53076;&#46300;&#47484; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>
<pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@Override</span></em>
<span class="hl-keyword">protected</span> <span class="hl-keyword">void</span> configure(HttpSecurity http) <span class="hl-keyword">throws</span> Exception {
	http
		.authorizeRequests()
			.anyRequest().authenticated()
			.withObjectPostProcessor(<span class="hl-keyword">new</span> ObjectPostProcessor&lt;FilterSecurityInterceptor&gt;() {
				<span class="hl-keyword">public</span> &lt;O <span class="hl-keyword">extends</span> FilterSecurityInterceptor&gt; O postProcess(
						O fsi) {
					fsi.setPublishAuthorizationSuccess(true);
					<span class="hl-keyword">return</span> fsi;
				}
			});
}</pre>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="new.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="getting-started.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ns-config.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.&nbsp;Spring Security 4.0&#51032; &#49352;&#47196;&#50868; &#51216;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;4.&nbsp;Security Namespace Configuration</td></tr></table></div></body></html>